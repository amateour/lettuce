!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["@amateury/lettuce"]=t():e["@amateury/lettuce"]=t()}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){return"boolean"==typeof e}e.r(t),e.d(t,{default:()=>x,parserScheme:()=>w});var r=new Map;r.set("Array",(function(e){return Array.isArray(e)})),r.set("String",(function(e){return"string"==typeof e})),r.set("Number",(function(e){return"number"==typeof e})),r.set("Object",(function(e){return e instanceof Object})),r.set("Boolean",n);var o=function(e,t,n,r){return new(n||(n=Promise))((function(o,u){function i(e){try{c(r.next(e))}catch(e){u(e)}}function a(e){try{c(r.throw(e))}catch(e){u(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},u=function(e,t){var n,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},i=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,u=t.length;o<u;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},a=function(e){throw e},c=function(e,t){return o(void 0,void 0,void 0,(function(){return u(this,(function(r){return!e||t||n(t)||a("required"),[2]}))}))},s=function(e,t){return o(void 0,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.__validate__(e)];case 1:return r.sent()||a("type"),[3,3];case 2:return"type"===(n=r.sent())&&a(n),a("No validation custom format found: ".concat(n)),[3,3];case 3:return[2]}}))}))},l=function(e,t,n,i){return o(void 0,void 0,void 0,(function(){var o,c,l;return u(this,(function(u){switch(u.label){case 0:return i?(o=r.get(n.name))?(o(t)||a("type"),[3,3]):[3,1]:[3,3];case 1:return[4,s(t,n)];case 2:u.sent(),u.label=3;case 3:return c="Array"===n.name?t?n.from(t):t:t?n(t):t,t?[4,b(e,c,n.name)]:[3,5];case 4:return l=u.sent(),[3,6];case 5:l=t,u.label=6;case 6:return[2,l]}}))}))},f=function(e,t,n){return o(void 0,void 0,void 0,(function(){var r,o,i,c;return u(this,(function(u){switch(u.label){case 0:r=Object.keys(n),o=r.length+1,u.label=1;case 1:if(!--o)return[3,9];if(!((i=n[r[r.length-o]])instanceof Function))return[3,7];c=i.name,u.label=2;case 2:return u.trys.push([2,,5,6]),c.toString().toLocaleLowerCase()!==typeof t?[3,4]:[4,l(e,t,i,void 0)];case 3:return[2,u.sent()];case 4:return[3,6];case 5:return[7];case 6:return[3,8];case 7:if(t===i)return[2,t];u.label=8;case 8:return 1===o&&a("pick"),[3,1];case 9:return[2]}}))}))},v=function(e,t){return o(void 0,void 0,void 0,(function(){var n,r;return u(this,(function(o){switch(o.label){case 0:return n=e.type,r=e.strict,"object"!=typeof n?[3,2]:[4,f(e,t,n)];case 1:case 3:return[2,o.sent()];case 2:return[4,l(e,t,n,r)]}}))}))},h=function(e,t,n){return o(void 0,void 0,void 0,(function(){var r;return u(this,(function(o){return r=null,e.length?r=e.length>=t:"Number"!==n&&"BigInt"!==n||(r=e>=t),null===r||r||a("min"),r||a("it is not possible to evaluate the minimum value for the type: ".concat(typeof e)),[2,r]}))}))},p=function(e,t,n){return o(void 0,void 0,void 0,(function(){var r;return u(this,(function(o){return r=null,e.length?r=e.length<=t:"Number"!==n&&"BigInt"!==n||(r=e<=t),null===r||r||a("max"),r||a("it is not possible to evaluate the maximum value for the type: ".concat(typeof e)),[2,r]}))}))},d=function(e,t){return o(void 0,void 0,void 0,(function(){return u(this,(function(n){return t.test(e)||a("regex"),[2]}))}))};function b(e,t,n){return o(this,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return e.min?[4,h(t,e.min,n)]:[3,2];case 1:r.sent(),r.label=2;case 2:return e.max?[4,p(t,e.max,n)]:[3,4];case 3:r.sent(),r.label=4;case 4:return e.regex?[4,d(t,e.regex)]:[3,6];case 5:r.sent(),r.label=6;case 6:return[2,t]}}))}))}var y=function(e,t){return o(void 0,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return e.value&&e.value instanceof Function?[4,e.value(t)]:[3,2];case 1:return[2,n.sent()];case 2:return[2,void 0===e.value||t?t:e.value]}}))}))};function m(e,t){return o(this,void 0,void 0,(function(){var n,r;return u(this,(function(o){switch(o.label){case 0:return n=[],r=e.strict,[4,c(e.required,t).catch((function(e){return a(e)}))];case 1:return o.sent(),[4,v(e,t).catch((function(e){r?a(e):n.push(e)})).then((function(e){return[n,null!=e?e:t]}))];case 2:return[2,o.sent()]}}))}))}function g(e,t,n,r){return o(this,void 0,void 0,(function(){return u(this,(function(o){switch(o.label){case 0:return[4,m(n,r).then((function(o){var u=o[0],a=o[1];if(u.length)return t({error:i([],u,!0),target:n.target,value:r});e([n.target,a])})).catch((function(e){a([{error:[e],target:n.target,value:r}])}))];case 1:return o.sent(),[2]}}))}))}function w(e,t){return void 0===t&&(t={}),o(this,void 0,void 0,(function(){var n,r,o,i;return u(this,(function(u){switch(u.label){case 0:n=e.length+1,r={_values:{},_errors:[],get values(){return this._values},resolution:function(e){var t=e[0],n=e[1];void 0!==n&&Object.defineProperty(r._values,t,{enumerable:!0,value:n})},callBackErr:function(e){r._errors.push(e)}},u.label=1;case 1:return--n?(o=e[e.length-n],[4,y(o,t[o.target])]):[3,4];case 2:return i=u.sent(),[4,g(r.resolution,r.callBackErr,o,i)];case 3:return u.sent(),[3,1];case 4:return[2,r._errors.length?a(r._errors):r.values]}}))}))}const x=function(){function e(e,t){this.schemes=e,t&&(this.values=t)}return e.prototype.parser=function(e){return t=this,n=void 0,o=function(){return function(e,t){var n,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}(this,(function(t){return e&&(this.values=e),[2,w(this.schemes,this.values)]}))},new((r=void 0)||(r=Promise))((function(e,u){function i(e){try{c(o.next(e))}catch(e){u(e)}}function a(e){try{c(o.throw(e))}catch(e){u(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}c((o=o.apply(t,n||[])).next())}));var t,n,r,o},e}();return t})()));
//# sourceMappingURL=index.umd.js.map